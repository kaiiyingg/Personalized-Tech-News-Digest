{% extends "base.html" %}
{% block content %}
<main class="interests-main" style="background: #111216; min-height: 100vh; padding: 0; margin: 0;">
  <section aria-labelledby="interests-heading" style="max-width: 480px; margin: 0 auto; padding: 3.5rem 1.5rem 2.5rem 1.5rem;">
    <h1 id="interests-heading" style="color: #fff; font-size: 2.2rem; font-family: 'Space Grotesk', 'Segoe UI', sans-serif; font-weight: 800; text-align: center; margin-bottom: 2.2rem; letter-spacing: -0.01em;">Manage Your Interests</h1>
    <form method="POST" action="{{ url_for('manage_interests') }}" autocomplete="off" aria-describedby="interests-desc">
      <p id="interests-desc" style="color: #b3b3b3; text-align: center; margin-bottom: 2.2rem; font-size: 1.08rem;">
        Choose your favorite topics to customize your Fast View. You'll see the latest articles based on your selected interests. You can update these preferences anytime.
      </p>
      <fieldset style="border: none; padding: 0; margin: 0;">
        <legend class="sr-only">Topics</legend>
        <ul style="list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 1.1rem;">
          {% for topic in all_topics %}
          <li>
            <div style="display: flex; align-items: center; gap: 0.85rem;">
              <input type="checkbox" name="topics" value="{{ topic }}" id="topic-{{ loop.index }}"
                {% if topic in user_topics %}checked{% endif %}
                style="accent-color: #8B5CF6; width: 1.25em; height: 1.25em; border-radius: 0.3em; border: 2px solid #fff; background: #222; margin: 0; outline: none; cursor: pointer;"
                aria-labelledby="label-{{ loop.index }}">
              <label id="label-{{ loop.index }}" for="topic-{{ loop.index }}" style="color: #fff; font-size: 1.08rem; font-weight: 600; cursor: pointer; letter-spacing: 0.01em;">
                {{ topic }}
              </label>
            </div>
          </li>
          {% endfor %}
        </ul>
      </fieldset>
      <button type="submit" class="super-button" style="margin: 2.5rem auto 3.5rem auto; display: block;">
        <span>Save Preferences</span>
        <svg fill="none" viewBox="0 0 24 24" class="arrow">
          <path
            stroke-linejoin="round"
            stroke-linecap="round"
            stroke-width="2"
            stroke="currentColor"
            d="M5 12h14M13 6l6 6-6 6"
          ></path>
        </svg>
      </button>
    </form>
  </section>
</main>
{% endblock %}
