{% extends 'base.html' %}
{% block title %}Profile{% endblock %}

{% block content %}
<div class="profile-container">
  <!-- Background Effects -->
  <div class="gradient-orb-1"></div>
  <div class="gradient-orb-2"></div>
  <div class="gradient-orb-center"></div>
  <div class="grid-pattern"></div>
  
  <!-- Flash Messages -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <ul class="flashes">
        {% for category, message in messages %}
          <li class="{{ category }}">{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}
  
  <!-- Content -->
  <div class="profile-content">
    <!-- Header -->
    <div class="profile-header">
      <h1 class="profile-title">Profile</h1>
      <p class="profile-subtitle">Manage your account settings</p>
    </div>
    
    <!-- Profile Card -->
    <div class="profile-card">
      <!-- Username Section -->
      <div class="profile-section">
        <div class="profile-label">Username</div>
        <div class="profile-value">
          <span>{{ current_user.username }}</span>
        </div>
        <form method="POST" action="{{ url_for('profile') }}">
          <input 
            type="text" 
            name="username" 
            placeholder="Enter new username" 
            class="profile-input"
            required
          >
          <button type="submit" name="action" value="update_username" class="profile-btn profile-btn-secondary">
            Change Username
          </button>
        </form>
      </div>
      
      <!-- Email Section -->
      <div class="profile-section">
        <div class="profile-label">Email Address</div>
        <div class="profile-value">
          <span>{{ current_user.email }}</span>
        </div>
        <form method="POST" action="{{ url_for('profile') }}">
          <input 
            type="email" 
            name="email" 
            placeholder="Enter new email" 
            class="profile-input"
            required
          >
          <button type="submit" name="action" value="update_email" class="profile-btn profile-btn-secondary">
            Change Email
          </button>
        </form>
      </div>
      
      <!-- Password Section -->
      <div class="profile-section">
        <div class="profile-label">Security</div>
        <a href="{{ url_for('reset_password') }}" class="profile-btn">
          Reset Password
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
